(this.webpackJsonpgalley=this.webpackJsonpgalley||[]).push([[0],{143:function(e,t,a){e.exports=a.p+"static/media/4.cd3dee1f.png"},144:function(e,t,a){e.exports=a.p+"static/media/\u041a\u043e\u043b\u044f\u043d.9cc251b1.png"},149:function(e,t,a){e.exports=a(309)},154:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},216:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),s=a.n(r),u=(a(154),a(155),a(12)),o=a(37),i=a(32),l=a(314),m="NAVBAR.SET_TITLE",f=function e(){Object(i.a)(this,e)};f.setTitle=Object(l.a)(m);var p=a(18),E=a(7),d=a(312),b=Object(p.a)({},m,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{title:t.payload})})),h={reducer:Object(d.a)(b,{title:""}),actions:f},v=a(9),O=a.n(v),j=a(23),k="/rating",g="/tasks",S="/users_list",T={BASE:"https://galley-jr6l7s7e6a-uc.a.run.app",BOARD:"/board",TASK_CHANGE:"/task/change",USERS:"/users",CLICKS:"/clicks/:count",TASK_CREATE:"/task/create",SEND_MESSAGE:"/push/send"},N="LOADING",A="READY",y=["\u0413\u043e\u0442\u043e\u0432\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438","\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435","\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"],C=a(125),w=a.n(C).a.create({headers:{"Content-Type":"application/json"},baseURL:T.BASE}),x=function e(){Object(i.a)(this,e)};x.getBoard=function(){return w.get(T.BOARD)},x.changeTask=function(e){return w.post(T.TASK_CHANGE,e)},x.getUsers=function(){return w.get(T.USERS)},x.getClicks=function(e){var t=T.CLICKS.replace(":count",e.toString());return w.get(t)},x.createTask=function(e){return w.post(T.TASK_CREATE,e)},x.sendMessage=function(){return w.post(T.SEND_MESSAGE)};var _="BOARD.SET_STATUS",R="BOARD.CHANGE_TASK_STATUS",D="BOARD.SET_TASKS",I="BOARD.SET_SIGNAL_FETCH",B=function e(){Object(i.a)(this,e)};B.setStatus=Object(l.a)(_),B.changeStatusTask=Object(l.a)(R),B.setTasks=Object(l.a)(D),B.setSignalFetch=Object(l.a)(I),B.fetchTasks=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&a(B.setStatus(N)),t.prev=1,t.next=4,x.getBoard();case 4:n=t.sent,a(B.setTasks(n.data)),c=setTimeout((function(){a(B.setSignalFetch(!0)),clearTimeout(c)}),5e3),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()};var U,F,G=a(51),K={tasks:[],loadStatus:A,signal:!1},L=(U={},Object(p.a)(U,D,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{tasks:Object(G.a)(t.payload)})})),Object(p.a)(U,_,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{loadStatus:t.payload})})),Object(p.a)(U,I,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{signal:t.payload})})),Object(p.a)(U,R,(function(e,t){return Object(E.a)({},e)})),U),M={reducer:Object(d.a)(L,K),actions:B},H="CHART.SET_DATA",W="CHART.SET_SIGNAL",J=function e(){Object(i.a)(this,e)};J.setData=Object(l.a)(H),J.setSignal=Object(l.a)(W),J.fetchChartData=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getClicks(e);case 3:n=t.sent,a(J.setData(n.data)),setTimeout((function(){a(J.setSignal(!0))}),2e3),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};var P=(F={},Object(p.a)(F,H,(function(e,t){var a=function(e){var t=Object(G.a)(new Set(e.map((function(e){return e.hash})))),a=[];t.map((function(t){var n=e.filter((function(e){return e.hash===t}));a.push(n)}));var n=[];return a.map((function(e){var t={label:e[0].hash,data:[]};e.reverse().map((function(e,a){t.data.push([a,e.count])})),n.push(t)})),n}(t.payload);return Object(E.a)(Object(E.a)({},e),{},{data:a.reverse()})})),Object(p.a)(F,W,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{signal:t.payload})})),F),z=Object(d.a)(P,{data:[],signal:!1}),V={actions:J,reducer:z},Y="USERS.SET_USERS",$=function e(){Object(i.a)(this,e)};$.setUsers=Object(l.a)(Y),$.fetchUsers=function(){return function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getUsers();case 3:a=e.sent,t($.setUsers(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};var q=Object(p.a)({},Y,(function(e,t){return Object(E.a)(Object(E.a)({},e),{},{users:Object(G.a)(t.payload)})})),Q={reducer:Object(d.a)(q,{users:[]}),actions:$},X=Object(o.combineReducers)({navbar:h.reducer,board:M.reducer,chart:V.reducer,users:Q.reducer}),Z=a(126),ee=Object(Z.composeWithDevTools)(Object(o.applyMiddleware)((function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){return n instanceof Function?n(t,a):e(n)}}}))),te=Object(o.createStore)(X,ee),ae=a(90),ne=a(8),ce=(a(176),a(127)),re=(a(178),a(29)),se=(a(179),a(54)),ue=a(95),oe=a(317),ie=(a(180),a(1)),le=a.n(ie),me=a(316),fe=(a(181),function(e){var t=e.task,a=Object(u.b)(),n=le()({task:!0}),r=function(){var e=Object(j.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.changeTask(Object(E.a)(Object(E.a)({},t),{},{status:n}));case 3:a(B.fetchTasks()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:n},c.a.createElement("h3",{className:"task-title"},"\u0422\u0435\u043c\u0430: ",t.title),c.a.createElement("p",{className:"task-description"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",t.description),c.a.createElement("div",{className:"controls"},c.a.createElement(ue.a,{onClick:function(){r(t.status+1)},type:"dashed"},function(){switch(t.status){case 0:return"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443";case 1:return"\u0412 \u0442\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435";case 2:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c"}}()),c.a.createElement(ue.a,{danger:!0,type:"dashed",icon:c.a.createElement(me.a,null),onClick:function(){r(4)}})))}),pe=function(e){var t=e.statusId,a=e.tasks,n=e.onCreateTask,r=y[t],s=a.filter((function(e){return e.status===t}));return c.a.createElement("div",{className:"tasks-list"},c.a.createElement("h3",{className:"tasks-list-title"},r),c.a.createElement("div",{className:"tasks"},c.a.createElement("div",{className:"controls"},c.a.createElement(ue.a,{size:"small",icon:c.a.createElement(oe.a,null),onClick:function(){n&&n(t)}})),s&&s.length?c.a.createElement(c.a.Fragment,null,s.map((function(e,t){return c.a.createElement(fe,{key:t,task:e})}))):c.a.createElement(se.a,{description:'\u041d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0435 "'.concat(r,'"')})))},Ee=a(310),de=a(313),be=a(311),he=(a(216),function(e){var t=Object(n.useState)(!1),a=Object(re.a)(t,2),r=a[0],s=a[1],u=e.status,o=e.onClose,i=Ee.a.useForm(),l=Object(re.a)(i,1)[0],m=function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,x.createTask(t);case 4:o&&o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,s(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"backdrop",onClick:function(e){e.stopPropagation(),o&&o()}},c.a.createElement("div",{className:"form-task",onClick:function(e){return e.stopPropagation()}},c.a.createElement(Ee.a,{form:l,onFinish:function(e){var t=Object(E.a)(Object(E.a)({},e),{},{status:u});t.title.length&&m(t),l.resetFields()}},c.a.createElement(Ee.a.Item,{name:"title"},c.a.createElement(de.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})),c.a.createElement(Ee.a.Item,{name:"urgency"},c.a.createElement(be.a,{placeholder:"\u0421\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c"},c.a.createElement(be.a.Option,{value:0},"\u041d\u0435 \u0441\u0440\u043e\u0447\u043d\u043e"),c.a.createElement(be.a.Option,{value:1},"\u0421\u0440\u043e\u0447\u043d\u043e"),c.a.createElement(be.a.Option,{value:2},"\u041e\u0447\u0435\u043d\u044c \u0441\u0440\u043e\u0447\u043d\u043e"))),c.a.createElement(Ee.a.Item,{name:"description"},c.a.createElement(de.a.TextArea,{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435..."})),c.a.createElement(Ee.a.Item,null,c.a.createElement(ue.a,{htmlType:"submit",loading:r},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))))}),ve=(a(302),a(303),a(143)),Oe=a.n(ve),je=function(e){var t=e.name,a=e.secondName;return c.a.createElement("div",{className:"user"},c.a.createElement("div",{className:"avatar"},c.a.createElement("img",{src:Oe.a,alt:"avatar"})),c.a.createElement("div",{className:"info"},c.a.createElement("h3",null,t),c.a.createElement("h3",null,a)))},ke=(a(304),a(144)),ge=a.n(ke),Se=function(){var e=Object(n.useState)(!1),t=Object(re.a)(e,2),a=t[0],r=t[1],s=Object(u.b)();Object(n.useEffect)((function(){s(f.setTitle("404 \u041f\u0443\u0443\u0443\u0441\u0442\u043e\u043e\u043e..."));var e=setTimeout((function(){r(!0)}),100);return function(){clearTimeout(e)}}),[]);var o=le()({kolyan:!0,"kolyan-show":a});return c.a.createElement("div",{className:"not-found"},c.a.createElement("h1",null,"\u0422\u044b \u043a\u0443\u0434\u0430 \u0441\u0432\u043e\u0438\u043c \u043f\u0430\u043b\u044c\u0446\u0435\u043c \u0442\u044b\u0447\u0435\u0448\u044c?"),c.a.createElement("img",{className:o,src:ge.a,alt:"kolyan"}))},Te=[{path:g,name:"\u0414\u043e\u0441\u043a\u0430 \u0441 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430\u043c\u0438",component:function(){var e=Object(n.useState)(0),t=Object(re.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),o=Object(re.a)(s,2),i=o[0],l=o[1],m=Object(u.b)(),p=Object(u.c)((function(e){return e.board})),E=p.tasks,d=(p.loadStatus,p.signal);Object(n.useEffect)((function(){m(f.setTitle("\u0414\u043e\u0441\u043a\u0430 \u0441 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430\u043c\u0438")),m(B.fetchTasks(!0))}),[]),Object(n.useEffect)((function(){d&&(m(B.fetchTasks()),m(B.setSignalFetch(!1)))}),[d]);var b=function(e){r(e),l(!0)};return c.a.createElement("div",{className:"tasks"},!!E&&c.a.createElement("div",{className:"tasks-columns"},c.a.createElement(pe,{statusId:0,tasks:E,onCreateTask:b}),c.a.createElement(pe,{statusId:1,tasks:E,onCreateTask:b}),c.a.createElement(pe,{statusId:2,tasks:E,onCreateTask:b}),c.a.createElement(pe,{statusId:3,tasks:E,onCreateTask:b})),i&&c.a.createElement(he,{status:a,onClose:function(){l(!1)}}))}},{path:S,name:"\u0413\u0440\u0435\u0431\u0446\u044b",component:function(){var e=Object(u.c)((function(e){return e.users})).users,t=Object(u.b)();Object(n.useEffect)((function(){t(f.setTitle("\u0413\u0440\u0435\u0431\u0446\u044b")),t($.fetchUsers())}),[]);return c.a.createElement("div",{className:"users"},"\xa0",e&&e.length?c.a.createElement("div",{className:"users-list"},e.map((function(e,t){return c.a.createElement(je,{key:t,name:e.first_name,secondName:e.second_name})}))):c.a.createElement("p",null,"\u041f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435\u0442 \u0433\u0440\u0435\u0431\u0446\u043e\u0432"))}},{path:k,name:"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b \u0433\u0440\u0435\u0431\u0446\u043e\u0432",component:function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.chart})),a=t.data,r=t.signal;Object(n.useEffect)((function(){e(f.setTitle("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c \u0433\u0440\u0435\u0431\u043b\u0438")),e(J.fetchChartData(100))}),[]),Object(n.useEffect)((function(){r&&(e(J.fetchChartData(100)),e(J.setSignal(!1)))}),[r]);return c.a.createElement("div",{className:"rating"},!!a.length&&c.a.createElement("div",{className:"chart-holder"},c.a.createElement(ce.Chart,{data:a,axes:[{primary:!0,type:"linear",position:"bottom"},{type:"linear",position:"left"}],tooltip:!0})))}}],Ne=(a(305),function(e){var t=e.route,a=e.active,n=Object(ne.g)(),r=le()({"side-menu-item":!0,"side-menu-item-active":a});return c.a.createElement("div",{className:r,onClick:function(){n.push(t.path)}},c.a.createElement("span",null,t.name))}),Ae=function(e){var t=e.routes.filter((function(e){return!!e.name})),a=Object(ne.h)().pathname;return c.a.createElement("div",{className:"side-menu"},t.map((function(e,t){return c.a.createElement(Ne,{key:t,route:e,active:e.path===a})})))},ye=(a(307),function(){var e=Object(u.c)((function(e){return e.navbar})).title;return c.a.createElement("div",{className:"navbar"},c.a.createElement("h1",null,e))}),Ce=(a(308),a(94)),we=a.n(Ce),xe=function(){var e=Object(n.useState)(!1),t=Object(re.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)("\u0423\u0441\u043a\u043e\u0440\u0438\u0442\u044c \u0433\u0440\u0431\u0435\u0446\u043e\u0432"),u=Object(re.a)(s,2),o=u[0],i=u[1],l=le()({"push-btn":!0,"push-btn-hovered":a}),m=function(){var e=Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i("\u0423\u0421\u041a\u041e\u0420\u042f\u042e..."),e.next=4,x.sendMessage();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.prev=9,i("\u0423\u0441\u043a\u043e\u0440\u0438\u0442\u044c \u0433\u0440\u0431\u0435\u0446\u043e\u0432"),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:l,onMouseEnter:function(){r(!0)},onMouseLeave:function(){r(!1)},onClick:function(){m()}},c.a.createElement("div",{className:"picture"},c.a.createElement("img",{src:we.a,alt:"\u0417\u0430\u044f\u0446"})),c.a.createElement("p",null,o),c.a.createElement("div",{className:"picture"},c.a.createElement("img",{src:we.a,alt:"\u0417\u0430\u044f\u0446"})))},_e=function(){return c.a.createElement(ae.a,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container-side"},c.a.createElement(Ae,{routes:Te})),c.a.createElement("div",{className:"container-content"},c.a.createElement(ye,null),c.a.createElement(ne.b,{path:"/"},c.a.createElement(ne.a,{to:g})),c.a.createElement(ne.d,null,Te.map((function(e,t){return c.a.createElement(ne.b,{key:t,path:e.path,component:e.component})})),c.a.createElement(Se,null)))))},Re=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(u.a,{store:te},c.a.createElement(_e,null)),c.a.createElement(xe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a.p+"static/media/\u0417\u0430\u044f\u0446.5c188ade.png"}},[[149,1,2]]]);
//# sourceMappingURL=main.b8f3c195.chunk.js.map